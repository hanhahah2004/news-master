# 新闻发布系统前端

## 项目介绍

新闻发布系统是一个现代化的内容管理平台前端应用，提供完整的新闻发布、阅读、评论和管理功能。该系统采用前后端分离架构，前端基于 Vue 3 和 Element Plus 构建，为用户提供优雅的交互体验和强大的管理功能。

本项目作为整个新闻系统的用户界面层，负责展示新闻内容、处理用户交互、管理用户会话以及与后端 API 进行通信。前端应用与后端服务通过 RESTful API 进行数据交互，实现了完整的用户注册登录、文章管理、评论互动和后台管理系统功能。

系统的设计理念是简洁高效，界面采用现代化的设计风格，支持响应式布局，能够在桌面端和移动端提供良好的浏览体验。同时，系统注重用户体验优化，包括文章阅读统计、点赞互动、收藏管理等常用功能，为用户打造一站式的内容消费和管理平台。

## 技术栈

本项目采用了当前业界主流的前端技术栈，确保应用的性能、可维护性和可扩展性。以下是项目使用的核心技术：

**Vue 3 组合式 API**：项目基于 Vue 3 版本开发，全面采用 Composition API 和 `<script setup>` 语法，使代码逻辑更加清晰，逻辑复用更加便捷。Vue 3 的响应式系统基于 Proxy 实现，相比 Vue 2 的 Object.defineProperty 具有更好的性能和更完整的响应式支持。

**Element Plus 组件库**：作为 Element UI 的 Vue 3 版本，Element Plus 提供了丰富的企业级组件，包括表单、表格、对话框、导航菜单等，能够满足各种业务场景的 UI 需求。组件库设计风格统一，文档完善，社区活跃，是 Vue 生态中最受欢迎的组件库之一。

**Pinia 状态管理**：项目采用 Pinia 作为状态管理方案，这是 Vue 官方推荐的新一代状态管理库。相比 Vuex，Pinia 具有更简洁的 API、完整的 TypeScript 支持、模块化程度更高且无需配置 mutations 等优势。

**Vue Router 路由管理**：路由系统采用 Vue Router 4 版本，支持嵌套路由、路由守卫、懒加载等功能。通过路由守卫实现了页面访问权限控制，包括登录状态验证和管理员权限验证。

**Axios 网络请求**：基于 Axios 封装了统一的请求模块，实现了请求拦截器（自动添加认证 token）和响应拦截器（统一错误处理），简化了 API 调用逻辑。

**Sass 样式预处理器**：项目使用 Sass 作为 CSS 预处理器，提供了变量、嵌套、混入、函数等高级功能，使样式代码更加模块化和可维护。

## 项目结构

```
frontend/
├── src/
│   ├── api/                    # API 接口模块
│   │   ├── article.js          # 文章相关接口
│   │   ├── category.js         # 分类相关接口
│   │   ├── comment.js          # 评论相关接口
│   │   ├── config.js           # 配置相关接口
│   │   ├── request.js          # axios 请求封装
│   │   └── user.js             # 用户相关接口
│   │
│   ├── components/             # 公共组件
│   │   ├── Header.vue          # 头部导航组件
│   │   └── Footer.vue          # 底部信息组件
│   │
│   ├── router/                 # 路由配置
│   │   └── index.js            # 路由定义和守卫
│   │
│   ├── stores/                 # Pinia 状态管理
│   │   ├── app.js              # 应用全局状态
│   │   └── user.js             # 用户认证状态
│   │
│   ├── styles/                 # 全局样式
│   │   └── index.scss          # 全局样式文件
│   │
│   ├── views/                  # 页面视图
│   │   ├── Home.vue            # 首页
│   │   ├── ArticleDetail.vue   # 文章详情页
│   │   ├── Category.vue        # 分类页面
│   │   ├── Search.vue          # 搜索结果页
│   │   ├── Login.vue           # 登录页
│   │   ├── Register.vue        # 注册页
│   │   ├── UserCenter.vue      # 用户中心
│   │   ├── MyArticles.vue      # 我的文章
│   │   ├── CreateArticle.vue   # 创建文章
│   │   ├── EditArticle.vue     # 编辑文章
│   │   ├── NotFound.vue        # 404 页面
│   │   └── admin/              # 后台管理页面
│   │       ├── Admin.vue       # 管理后台布局
│   │       ├── Dashboard.vue   # 数据仪表盘
│   │       ├── Users.vue       # 用户管理
│   │       ├── Categories.vue  # 分类管理
│   │       ├── Articles.vue    # 文章管理
│   │       ├── Comments.vue    # 评论管理
│   │       └── FriendLinks.vue # 友链管理
│   │
│   ├── App.vue                 # 根组件
│   └── main.js                 # 应用入口
│
├── index.html                  # HTML 模板
├── package.json                # 项目配置
├── vite.config.js              # Vite 配置
└── README.md                   # 项目说明
```

## 快速开始

### 环境要求

在开始运行项目之前，请确保您的开发环境满足以下要求。Node.js 版本建议使用 18.x 或更高版本，LTS 版本是最佳选择。您可以通过在终端运行 `node -v` 命令来检查当前安装的 Node.js 版本。如果版本过低，请访问 Node.js 官方网站下载并安装最新版本。

npm 是 Node.js 自带的包管理工具，用于安装和管理项目依赖。确保 npm 版本在 8.x 以上。如果需要，您也可以使用 yarn 或 pnpm 作为替代包管理器，但本说明将以 npm 为例进行讲解。

### 安装依赖

克隆项目代码后，进入项目根目录并执行依赖安装命令。项目依赖包括 Vue 3 核心框架、Element Plus 组件库、Vue Router 路由管理、Pinia 状态管理、Axios 网络请求库以及相关开发工具。首次安装可能需要几分钟时间，具体取决于网络速度和计算机性能。

```bash
cd frontend
npm install
```

上述命令会自动读取 `package.json` 文件中定义的所有依赖项，并将其下载到 `node_modules` 目录中。如果您在国内网络环境下安装依赖速度较慢，可以考虑使用淘宝 npm 镜像源，通过配置 `.npmrc` 文件或使用 `npx` 命令指定镜像源来加速下载过程。

### 运行开发服务器

依赖安装完成后，您可以启动开发服务器进行项目开发和调试。开发服务器支持热模块替换（HMR），能够实时反映代码更改，无需手动刷新浏览器即可看到更新效果。

```bash
npm run dev
```

启动成功后，终端会显示访问地址，通常为 `http://localhost:3000`。打开浏览器访问该地址，如果看到项目首页，说明前端开发环境已成功搭建。开发模式下，前端请求会通过 Vite 代理转发到后端服务器，请确保后端服务已启动并监听在 `http://localhost:8080`。

### 构建生产版本

当项目开发完成并准备部署时，需要构建优化后的生产版本。生产构建会对代码进行压缩、拆分、优化，生成体积更小、加载速度更快的静态资源文件。

```bash
npm run build
```

构建完成后，会在项目根目录生成 `dist` 文件夹，其中包含所有静态资源文件。这些文件可以直接部署到任何静态文件服务器或 CDN 上。构建产物的具体内容可以通过 `npm run preview` 命令进行预览，以便检查构建效果是否符合预期。

## 配置说明

### 代理配置

项目使用 Vite 的代理功能将前端请求转发到后端服务器，以解决跨域问题。代理配置位于 `vite.config.js` 文件中，您可以修改 `server.proxy` 选项来调整代理规则或添加更多的代理路径。

当前配置将所有以 `/api` 开头的请求代理到 `http://localhost:8080`，这是后端服务的默认地址。如果您的后端服务运行在其他地址或端口，请相应修改 `target` 配置项。代理配置支持多种高级选项，包括路径重写、修改请求头、HTTPS 证书验证等，可根据实际需求进行配置。

### 接口地址

项目中的所有 API 请求都通过 `src/api/request.js` 文件中封装的 axios 实例发起。该文件定义了请求的基础URL、超时时间、请求拦截器和响应拦截器。如果您需要修改基础 URL 或其他请求配置，可以编辑该文件。

基础 URL 配置为 `/api`，这意味着实际请求会被发送到当前域名下的 `/api` 路径。结合 Vite 的代理配置，这些请求会被转发到后端服务。在生产环境中，您需要通过 Nginx 等 Web 服务器配置相同的代理规则，或者直接修改为后端服务的完整地址。

### 认证配置

用户认证采用 JWT（JSON Web Token）机制。登录成功后，后端会返回一个 token，前端将其存储在 localStorage 中，并在后续请求中通过 Authorization 请求头发送给后端。请求拦截器会自动处理 token 的添加，响应拦截器会在 token 过期或无效时自动清除本地存储的 token 并跳转到登录页面。

如果您需要修改 token 的存储方式或请求头格式，可以编辑 `src/api/request.js` 文件。例如，某些项目可能将 token 存储在 cookie 中而不是 localStorage，或者使用不同的认证方案如 Bearer Token 或 OAuth2。这些都可以通过修改拦截器逻辑来实现。

## 功能特性

### 前台功能

新闻发布系统的前台为普通用户提供完整的新闻浏览和互动功能。用户可以在首页查看最新发布的文章列表，通过分类页面浏览特定类别的内容，使用搜索功能快速找到感兴趣的文章。文章详情页展示完整的文章内容，并提供点赞、评论等互动功能。

用户注册和登录功能采用安全的认证机制，支持邮箱验证和密码加密。登录后，用户可以访问个人中心管理自己的资料、查看已发布的文章、收藏喜欢的文章等。系统还提供了文章撰写和编辑功能，支持 Markdown 格式，允许用户创建包含标题、正文、封面图、分类和标签的完整文章。

### 后台管理

管理后台为系统管理员提供全面的内容管理能力。仪表盘页面展示系统的核心统计数据，包括用户总数、文章总数、评论总数、访问量趋势等关键指标，帮助管理员快速了解系统运行状况。用户管理模块支持查看用户列表、禁用违规用户、分配管理员权限等操作。

分类管理模块允许管理员添加、编辑、删除文章分类，设置分类名称、描述、排序和显示状态。内容管理模块提供文章审核、编辑、删除、置顶、推荐等功能，帮助管理员维护平台内容质量。评论管理模块支持查看、审核、删除用户评论，防止垃圾内容和恶意言论的出现。友链管理模块允许添加和管理网站的外部链接，促进网站间的互相引流和合作。

## 注意事项

在开发和使用本项目时，请注意以下几点以确保项目的正常运行和最佳体验。

首先，确保后端服务已正确启动并运行在配置的地址上。前端的所有数据请求都依赖于后端 API，如果后端服务未启动或地址配置错误，前端将无法正常显示数据。您可以在浏览器开发者工具的网络面板中检查请求是否成功发送并获得正确的响应。

其次，注意生产环境的跨域配置。开发环境下通过 Vite 代理解决了跨域问题，但部署到生产环境后，需要通过 Nginx 或其他 Web 服务器配置相应的代理规则，将 `/api` 路径的请求转发到后端服务。具体的 Nginx 配置可以参考后端项目中的部署说明文档。

最后，定期更新项目依赖以获取最新的功能和安全修复。您可以使用 `npm outdated` 命令检查当前依赖是否有可用的更新版本。在更新依赖时，建议先查看变更日志，了解新版本的改动内容，确保更新不会影响项目的现有功能。特别是 Element Plus 等主要依赖的大版本更新可能涉及 API 变更，需要仔细评估和测试。
